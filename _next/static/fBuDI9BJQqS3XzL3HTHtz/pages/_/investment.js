(window.webpackJsonp=window.webpackJsonp||[]).push([[29],{1084:function(e,t,a){__NEXT_REGISTER_PAGE("/_/investment",function(){return e.exports=a(212),{page:e.exports.default}})},212:function(e,t,a){"use strict";a.r(t);var n=a(10),r=a.n(n),c=a(0),l=a.n(c),s=a(1131),o=a(1130),i=a(378),u=a(1139),d=a(380),p=a(2),b=a.n(p),f=(a(23),a(21)),h=a.n(f),m=a(6),v=a.n(m),O=(a(7),a(359)),g=a(643),j=a(647),y=a(5);function E(e){var t=e.children,a=e.className,n=v()(a),r=Object(g.a)(E,e),c=Object(j.a)(E,e);return l.a.createElement(c,b()({},r,{className:n}),t)}E.handledProps=["as","children","className"],E.defaultProps={as:"tbody"},E.propTypes={};var w=E,N=a(648),x=a(524);function P(e){var t=e.active,a=e.children,n=e.className,r=e.collapsing,c=e.content,s=e.disabled,o=e.error,i=e.icon,u=e.negative,d=e.positive,p=e.selectable,f=e.singleLine,h=e.textAlign,m=e.verticalAlign,E=e.warning,w=e.width,N=v()(Object(O.a)(t,"active"),Object(O.a)(r,"collapsing"),Object(O.a)(s,"disabled"),Object(O.a)(o,"error"),Object(O.a)(u,"negative"),Object(O.a)(d,"positive"),Object(O.a)(p,"selectable"),Object(O.a)(f,"single line"),Object(O.a)(E,"warning"),Object(O.d)(h),Object(O.f)(m),Object(O.g)(w,"wide"),n),T=Object(g.a)(P,e),C=Object(j.a)(P,e);return y.a.isNil(a)?l.a.createElement(C,b()({},T,{className:N}),x.a.create(i),c):l.a.createElement(C,b()({},T,{className:N}),a)}P.handledProps=["active","as","children","className","collapsing","content","disabled","error","icon","negative","positive","selectable","singleLine","textAlign","verticalAlign","warning","width"],P.defaultProps={as:"td"},P.propTypes={},P.create=Object(N.e)(P,function(e){return{content:e}});var T=P;function C(e){var t=e.children,a=e.className,n=e.content,r=e.fullWidth,c=v()(Object(O.a)(r,"full-width"),a),s=Object(g.a)(C,e),o=Object(j.a)(C,e);return l.a.createElement(o,b()({},s,{className:c}),y.a.isNil(t)?n:t)}C.handledProps=["as","children","className","content","fullWidth"],C.defaultProps={as:"thead"},C.propTypes={};var A=C;function k(e){var t=e.as,a=Object(g.a)(k,e);return l.a.createElement(A,b()({},a,{as:t}))}k.handledProps=["as"],k.propTypes={},k.defaultProps={as:"tfoot"};var R=k;function I(e){var t=e.as,a=e.className,n=e.sorted,r=v()(Object(O.e)(n,"sorted"),a),c=Object(g.a)(I,e);return l.a.createElement(T,b()({},c,{as:t,className:r}))}I.handledProps=["as","className","sorted"],I.propTypes={},I.defaultProps={as:"th"};var S=I;function H(e){var t=e.active,a=e.cellAs,n=e.cells,r=e.children,c=e.className,s=e.disabled,o=e.error,i=e.negative,u=e.positive,d=e.textAlign,p=e.verticalAlign,f=e.warning,m=v()(Object(O.a)(t,"active"),Object(O.a)(s,"disabled"),Object(O.a)(o,"error"),Object(O.a)(i,"negative"),Object(O.a)(u,"positive"),Object(O.a)(f,"warning"),Object(O.d)(d),Object(O.f)(p),c),E=Object(g.a)(H,e),w=Object(j.a)(H,e);return y.a.isNil(r)?l.a.createElement(w,b()({},E,{className:m}),h()(n,function(e){return T.create(e,{defaultProps:{as:a}})})):l.a.createElement(w,b()({},E,{className:m}),r)}H.handledProps=["active","as","cellAs","cells","children","className","disabled","error","negative","positive","textAlign","verticalAlign","warning"],H.defaultProps={as:"tr",cellAs:"td"},H.propTypes={},H.create=Object(N.e)(H,function(e){return{cells:e}});var W=H;function _(e){var t=e.attached,a=e.basic,n=e.celled,r=e.children,c=e.className,s=e.collapsing,o=e.color,i=e.columns,u=e.compact,d=e.definition,p=e.fixed,f=e.footerRow,m=e.headerRow,E=e.inverted,N=e.padded,x=e.renderBodyRow,P=e.selectable,T=e.singleLine,C=e.size,k=e.sortable,I=e.stackable,S=e.striped,H=e.structured,D=e.tableData,z=e.textAlign,G=e.unstackable,K=e.verticalAlign,B=v()("ui",o,C,Object(O.a)(n,"celled"),Object(O.a)(s,"collapsing"),Object(O.a)(d,"definition"),Object(O.a)(p,"fixed"),Object(O.a)(E,"inverted"),Object(O.a)(P,"selectable"),Object(O.a)(T,"single line"),Object(O.a)(k,"sortable"),Object(O.a)(I,"stackable"),Object(O.a)(S,"striped"),Object(O.a)(H,"structured"),Object(O.a)(G,"unstackable"),Object(O.b)(t,"attached"),Object(O.b)(a,"basic"),Object(O.b)(u,"compact"),Object(O.b)(N,"padded"),Object(O.d)(z),Object(O.f)(K),Object(O.g)(i,"column"),"table",c),L=Object(g.a)(_,e),M=Object(j.a)(_,e);return y.a.isNil(r)?l.a.createElement(M,b()({},L,{className:B}),m&&l.a.createElement(A,null,W.create(m,{defaultProps:{cellAs:"th"}})),l.a.createElement(w,null,x&&h()(D,function(e,t){return W.create(x(e,t))})),f&&l.a.createElement(R,null,W.create(f))):l.a.createElement(M,b()({},L,{className:B}),r)}_.handledProps=["as","attached","basic","celled","children","className","collapsing","color","columns","compact","definition","fixed","footerRow","headerRow","inverted","padded","renderBodyRow","selectable","singleLine","size","sortable","stackable","striped","structured","tableData","textAlign","unstackable","verticalAlign"],_.defaultProps={as:"table"},_.propTypes={},_.Body=w,_.Cell=T,_.Footer=R,_.Header=A,_.HeaderCell=S,_.Row=W;var D=_,z=a(656),G=(a(18),a(20)),K=a(32),B=a(33),L=a(12);function M(e){return(M="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function F(e,t,a,n,r,c,l){try{var s=e[c](l),o=s.value}catch(e){return void a(e)}s.done?t(o):Promise.resolve(o).then(n,r)}function V(e){return function(){var t=this,a=arguments;return new Promise(function(n,r){var c=e.apply(t,a);function l(e){F(c,n,r,l,s,"next",e)}function s(e){F(c,n,r,l,s,"throw",e)}l(void 0)})}}function J(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function X(e){return(X=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Y(e,t){return(Y=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function q(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Q(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}a.d(t,"default",function(){return U});var U=function(e){function t(e){var a,n,c;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n=this,c=X(t).call(this,e),a=!c||"object"!==M(c)&&"function"!=typeof c?q(n):c,Q(q(q(a)),"onInvest",V(r.a.mark(function e(){return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:a.onTx(a.state.price);case 1:case"end":return e.stop()}},e,this)}))),Q(q(q(a)),"onWithdraw",V(r.a.mark(function e(){return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:a.onTx(0);case 1:case"end":return e.stop()}},e,this)}))),Q(q(q(a)),"loadWeb3",function(){var e=V(r.a.mark(function e(t){var n,c,l,s,o,i;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.prev=1,s=Object(B.a)(),o=s.web3,i=s.contract,n=o,c=i,e.next=7,Object(B.c)();case 7:l=e.sent,e.next=14;break;case 10:return e.prev=10,e.t0=e.catch(1),console.log(e.t0),e.abrupt("return",!t&&Object(K.toastMessage)({event:"error",message:"Fails to connect ethereum blockchain!"}));case 14:l||!t&&Object(K.toastMessage)({event:"error",message:"Fails to load ETH account."}),console.log(l),e.next=22;break;case 18:e.prev=18,e.t1=e.catch(0),console.log(e.t1),a.setState({loading:!1});case 22:return e.abrupt("return",{web3:n,contract:c,account:l});case 23:case"end":return e.stop()}},e,this,[[0,18],[1,10]])}));return function(t){return e.apply(this,arguments)}}()),Q(q(q(a)),"reload",V(r.a.mark(function e(){var t,n,c,l,s,o,i,u,d,p,b,f,h,m;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a.setState({loading:!0}),e.prev=1,e.next=4,a.loadWeb3(!0);case 4:if(t=e.sent,n=t.web3,c=t.contract,!(l=t.account)){e.next=22;break}return e.next=11,c.methods.rates(l).call();case 11:return s=e.sent,e.next=14,c.methods.balance(l).call();case 14:return o=e.sent,i=L.a.eth(n,o,3),e.next=18,c.methods.payoutAmount().call({from:l});case 18:u=e.sent,d=L.a.eth(n,u,3),console.log("invested: ".concat(i)),a.setState({rate:s,investETH:i,withdrawETH:d});case 22:return e.next=24,c.methods.getBets(20).call();case 24:for(p=e.sent,b=[],console.log("---------all bets---------"),f=0;f<p[0].length;f++)h=L.a.eth(n,p[1][f]),m=L.a.shortAddress(p[0][f]),b.push({addr:m,eth:h,rate:p[2][f],date:p[3][f]});console.log(b),a.setState({invested:b,loading:!1}),e.next=36;break;case 32:e.prev=32,e.t0=e.catch(1),console.log(e.t0),a.setState({loading:!1});case 36:case"end":return e.stop()}},e,this,[[1,32]])}))),Q(q(q(a)),"onTx",function(){var e=V(r.a.mark(function e(t){var n,c,l;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,a.loadWeb3();case 3:n=e.sent,c=n.web3,l=n.account,c.eth.sendTransaction({to:G.a.address(),from:l,value:L.a.wei(c,t)},function(e,t){e?console.log(e):Object(K.toastMessage)("Transaction sent. Waining for confirmation...")}),a.setState({status:"submit",loading:!1}),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0),a.setState({loading:!1});case 14:case"end":return e.stop()}},e,this,[[0,10]])}));return function(t){return e.apply(this,arguments)}}()),Q(q(q(a)),"handleChange",function(e,t){var n,r=t.name,c=t.value;a.setState((Q(n={},r,c),Q(n,"error",""),n))}),a.state={price:5,loading:!1,invested:[]},a.handleChange=a.handleChange.bind(q(q(a))),a.onInvest=a.onInvest.bind(q(q(a))),a.onWithdraw=a.onWithdraw.bind(q(q(a))),a}var a,n,p,b;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Y(e,t)}(t,c["Component"]),a=t,(n=[{key:"componentDidMount",value:(b=V(r.a.mark(function e(){return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.reload();case 2:case"end":return e.stop()}},e,this)})),function(){return b.apply(this,arguments)})},{key:"render",value:function(){return l.a.createElement(s.a,{id:"invest",style:{padding:"0em 0em",margin:"1em 0em"},vertical:!0},l.a.createElement(o.a,{verticalAlign:"top"},l.a.createElement(o.a.Row,null,l.a.createElement(o.a.Column,{textAlign:"center"},l.a.createElement("h1",{className:"title"},"Investment"))),l.a.createElement(o.a.Row,null,l.a.createElement(o.a.Column,null,l.a.createElement(s.a,{inverted:!0},l.a.createElement(o.a,{stackable:!0,verticalAlign:"top"},l.a.createElement(o.a.Row,null,l.a.createElement(o.a.Column,{textAlign:"center"},"When you havd installed the Metamask, you can directly use the below functions of 'INVEST' & 'WITHDRAW'.")),l.a.createElement(o.a.Row,null,l.a.createElement(o.a.Column,{textAlign:"center"},l.a.createElement("div",null,l.a.createElement(i.a,{size:"",label:"ETH",inline:!0,placeholder:"ETH INVESTED",name:"price",value:this.state.price,onChange:this.handleChange,style:{padding:"0.5em",fontSize:"0.8em"}})),l.a.createElement(u.a,{size:"huge",color:"blue",onClick:this.onInvest,inverted:!0},"INVEST"),l.a.createElement(u.a,{size:"huge",color:"pink",onClick:this.onWithdraw,inverted:!0},"WITHDRAW"),this.state.error&&l.a.createElement(d.a,{color:"red",header:"",content:this.state.error}))),l.a.createElement(o.a.Row,null,l.a.createElement(o.a.Column,{textAlign:"center"},"Your interest rate: ",this.state.rate>0&&l.a.createElement("span",{className:"yo-light"},this.state.rate," %"),0==(this.state.rate||0)&&l.a.createElement("span",null,"(will show after invested)")," ",this.state.investETH>0&&l.a.createElement("span",null,"Total invested: ",l.a.createElement("span",{className:"yo-light"},this.state.investETH," "),"Available profit: ",l.a.createElement("span",{className:"yo-light"},this.state.withdrawETH,")  "),"(refresh hourly)"))),l.a.createElement(o.a.Row,null,l.a.createElement(o.a.Column,{textAlign:"center"},l.a.createElement(D,{celled:!0},l.a.createElement(D.Header,null,l.a.createElement(D.Row,null,l.a.createElement(D.HeaderCell,null,"Investor"),l.a.createElement(D.HeaderCell,null,"Rate"),l.a.createElement(D.HeaderCell,null,"ETH"))),l.a.createElement(D.Body,null,this.state.invested.map(function(e){return l.a.createElement(D.Row,null,l.a.createElement(D.Cell,null,l.a.createElement(z.a,{ribbon:!0}," ",e.addr)),l.a.createElement(D.Cell,null,e.rate," %"),l.a.createElement(D.Cell,null,e.eth))})))))))))))}}])&&J(a.prototype,n),p&&J(a,p),t}()},378:function(e,t,a){"use strict";var n=a(2),r=a.n(n),c=a(59),l=a.n(c),s=a(24),o=a.n(s),i=a(14),u=a.n(i),d=a(15),p=a.n(d),b=a(16),f=a.n(b),h=a(13),m=a.n(h),v=a(17),O=a.n(v),g=a(4),j=a.n(g),y=a(3),E=a.n(y),w=a(46),N=a.n(w),x=a(21),P=a.n(x),T=a(11),C=a.n(T),A=a(49),k=a.n(A),R=a(22),I=a.n(R),S=a(6),H=a.n(S),W=(a(7),a(0)),_=a.n(W),D=a(643),z=a(422),G=a(359),K=a(647),B=a(5),L=a(648),M=a(1139),F=a(524),V=a(656),J=function(e){function t(){var e,a;u()(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return a=f()(this,(e=m()(t)).call.apply(e,[this].concat(r))),E()(j()(j()(a)),"computeIcon",function(){var e=a.props,t=e.loading,n=e.icon;return I()(n)?t?"spinner":void 0:n}),E()(j()(j()(a)),"computeTabIndex",function(){var e=a.props,t=e.disabled,n=e.tabIndex;return I()(n)?t?-1:void 0:n}),E()(j()(j()(a)),"focus",function(){return a.inputRef.focus()}),E()(j()(j()(a)),"select",function(){return a.inputRef.select()}),E()(j()(j()(a)),"handleChange",function(e){var t=k()(e,"target.value");C()(a.props,"onChange",e,o()({},a.props,{value:t}))}),E()(j()(j()(a)),"handleChildOverrides",function(e,t){return o()({},t,e.props,{ref:function(t){C()(e,"ref",t),a.handleInputRef(t)}})}),E()(j()(j()(a)),"handleInputRef",function(e){return a.inputRef=e}),E()(j()(j()(a)),"partitionProps",function(){var e=a.props,n=e.disabled,r=e.type,c=a.computeTabIndex(),s=Object(D.a)(t,a.props),i=Object(z.b)(s),u=l()(i,2),d=u[0],p=u[1];return[o()({},d,{disabled:n,type:r,tabIndex:c,onChange:a.handleChange,ref:a.handleInputRef}),p]}),a}return O()(t,e),p()(t,[{key:"render",value:function(){var e=this,a=this.props,n=a.action,c=a.actionPosition,s=a.children,o=a.className,i=a.disabled,u=a.error,d=a.fluid,p=a.focus,b=a.icon,f=a.iconPosition,h=a.input,m=a.inverted,v=a.label,O=a.labelPosition,g=a.loading,j=a.size,y=a.transparent,E=a.type,w=H()("ui",j,Object(G.a)(i,"disabled"),Object(G.a)(u,"error"),Object(G.a)(d,"fluid"),Object(G.a)(p,"focus"),Object(G.a)(m,"inverted"),Object(G.a)(g,"loading"),Object(G.a)(y,"transparent"),Object(G.e)(c,"action")||Object(G.a)(n,"action"),Object(G.e)(f,"icon")||Object(G.a)(b||g,"icon"),Object(G.e)(O,"labeled")||Object(G.a)(v,"labeled"),"input",o),x=Object(K.a)(t,this.props),T=this.partitionProps(),C=l()(T,2),A=C[0],k=C[1];if(!B.a.isNil(s)){var R=P()(W.Children.toArray(s),function(t){return"input"!==t.type?t:Object(W.cloneElement)(t,e.handleChildOverrides(t,A))});return _.a.createElement(x,r()({},k,{className:w}),R)}var I=M.a.create(n,{autoGenerateKey:!1}),S=V.a.create(v,{defaultProps:{className:H()("label",N()(O,"corner")&&O)},autoGenerateKey:!1});return _.a.createElement(x,r()({},k,{className:w}),"left"===c&&I,"right"!==O&&S,Object(L.a)(h||E,{defaultProps:A,autoGenerateKey:!1}),F.a.create(this.computeIcon(),{autoGenerateKey:!1}),"left"!==c&&I,"right"===O&&S)}}]),t}(W.Component);E()(J,"defaultProps",{type:"text"}),E()(J,"handledProps",["action","actionPosition","as","children","className","disabled","error","fluid","focus","icon","iconPosition","input","inverted","label","labelPosition","loading","onChange","size","tabIndex","transparent","type"]),J.propTypes={},J.create=Object(L.e)(J,function(e){return{type:e}}),t.a=J},380:function(e,t,a){"use strict";var n=a(2),r=a.n(n),c=a(14),l=a.n(c),s=a(15),o=a.n(s),i=a(16),u=a.n(i),d=a(13),p=a.n(d),b=a(17),f=a.n(b),h=a(4),m=a.n(h),v=a(3),O=a.n(v),g=a(22),j=a.n(g),y=(a(23),a(6)),E=a.n(y),w=(a(7),a(0)),N=a.n(w),x=a(359),P=a(643),T=a(647),C=a(5),A=a(648),k=a(524);function R(e){var t=e.children,a=e.className,n=e.content,c=E()("content",a),l=Object(P.a)(R,e),s=Object(T.a)(R,e);return N.a.createElement(s,r()({},l,{className:c}),C.a.isNil(t)?n:t)}R.handledProps=["as","children","className","content"],R.propTypes={};var I=R;function S(e){var t=e.children,a=e.className,n=e.content,c=E()("header",a),l=Object(P.a)(S,e),s=Object(T.a)(S,e);return N.a.createElement(s,r()({},l,{className:c}),C.a.isNil(t)?n:t)}S.handledProps=["as","children","className","content"],S.propTypes={},S.create=Object(A.e)(S,function(e){return{content:e}});var H=S,W=a(21),_=a.n(W);function D(e){var t=e.children,a=e.className,n=e.content,c=E()("content",a),l=Object(P.a)(D,e),s=Object(T.a)(D,e);return N.a.createElement(s,r()({},l,{className:c}),C.a.isNil(t)?n:t)}D.handledProps=["as","children","className","content"],D.propTypes={},D.defaultProps={as:"li"},D.create=Object(A.e)(D,function(e){return{content:e}});var z=D;function G(e){var t=e.children,a=e.className,n=e.items,c=E()("list",a),l=Object(P.a)(G,e),s=Object(T.a)(G,e);return N.a.createElement(s,r()({},l,{className:c}),C.a.isNil(t)?_()(n,z.create):t)}G.handledProps=["as","children","className","items"],G.propTypes={},G.defaultProps={as:"ul"},G.create=Object(A.e)(G,function(e){return{items:e}});var K=G;a.d(t,"a",function(){return B});var B=function(e){function t(){var e,a;l()(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return a=u()(this,(e=p()(t)).call.apply(e,[this].concat(r))),O()(m()(m()(a)),"handleDismiss",function(e){var t=a.props.onDismiss;t&&t(e,a.props)}),a}return f()(t,e),o()(t,[{key:"render",value:function(){var e=this.props,a=e.attached,n=e.children,c=e.className,l=e.color,s=e.compact,o=e.content,i=e.error,u=e.floating,d=e.header,p=e.hidden,b=e.icon,f=e.info,h=e.list,m=e.negative,v=e.onDismiss,O=e.positive,g=e.size,y=e.success,w=e.visible,R=e.warning,S=E()("ui",l,g,Object(x.a)(s,"compact"),Object(x.a)(i,"error"),Object(x.a)(u,"floating"),Object(x.a)(p,"hidden"),Object(x.a)(b,"icon"),Object(x.a)(f,"info"),Object(x.a)(m,"negative"),Object(x.a)(O,"positive"),Object(x.a)(y,"success"),Object(x.a)(w,"visible"),Object(x.a)(R,"warning"),Object(x.b)(a,"attached"),"message",c),W=v&&N.a.createElement(k.a,{name:"close",onClick:this.handleDismiss}),_=Object(P.a)(t,this.props),D=Object(T.a)(t,this.props);return C.a.isNil(n)?N.a.createElement(D,r()({},_,{className:S}),W,k.a.create(b,{autoGenerateKey:!1}),(!j()(d)||!j()(o)||!j()(h))&&N.a.createElement(I,null,H.create(d,{autoGenerateKey:!1}),K.create(h,{autoGenerateKey:!1}),Object(A.c)(o,{autoGenerateKey:!1}))):N.a.createElement(D,r()({},_,{className:S}),W,n)}}]),t}(w.Component);O()(B,"Content",I),O()(B,"Header",H),O()(B,"List",K),O()(B,"Item",z),O()(B,"handledProps",["as","attached","children","className","color","compact","content","error","floating","header","hidden","icon","info","list","negative","onDismiss","positive","size","success","visible","warning"]),B.propTypes={}}},[[1084,1,0]]]);