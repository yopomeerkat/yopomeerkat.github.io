{"version":3,"file":"static/webpack/static/development/pages/index.js.60f8115a9659f1123efa.hot-update.js","sources":["webpack:///./components/etherscan.js"],"sourcesContent":["//import fetch from \"node-fetch\";\nimport config from \"./config\";\nimport convert from \"../utils/convert\";\n\nexport default class etherscan {\n\tstatic async getTxs() {\n\t\tlet headers = new Headers({\n\t\t\tAccept: \"application/json\",\n\t\t\t\"Content-Type\": \"application/json\",\n\t\t\t\"User-Agent\":\n\t\t\t\t\"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_11_5) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/56.0.2924.87 Safari/537.36\"\n\t\t});\n\t\tconst url = `https://api.etherscan.io/api?module=account&action=txlist&address=${config.address()}&startblock=6604918&endblock=99999999&sort=asc&apikey=${config.apikey()}`;\n\t\tconst txs = (await (await fetch(url, {\n\t\t\tmethod: \"GET\"\n\t\t})).json()).result;\n\t\tlet numberOfBets = 0;\n\t\tlet totalFunds = 0;\n\t\tfor (var j = 0; j < txs.length; j++) {\n\t\t\tif (txs[j].isError == \"1\") {\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\tconst v = parseFloat(convert.eth(txs[j].value));\n\t\t\tif (v > 0) {\n\t\t\t\tnumberOfBets++;\n\t\t\t}\n\t\t\ttotalFunds += v;\n\t\t}\n\n\t\tlet usdFunds = totalFunds * (await config.usdrate());\n\t\ttotalFunds = parseFloat(totalFunds.toFixed(1));\n\t\tusdFunds = parseFloat(usdFunds.toFixed(1));\n\n\t\treturn { numberOfBets, totalFunds, usdFunds };\n\t}\n\n    static async getLogs(){\n        const url = `https://api.etherscan.io/api?module=logs&action=getLogs&fromBlock=6604918&toBlock=latest&address=${config.address()}&topic0=0x4ae4bd7655e0d350876a23cd90c4227b13db560e34435c6a488150a9c844bf5f&apikey=${config.apikey()}`;\n        const txs = (await (await fetch(url, {\n            method: \"GET\"\n        })).json()).result;\n        let allBets =  [];\n        for (var j = 0; j < txs.length; j++) {\n            const d = web3.eth.abi.decodeLog([{\n                type: 'string',\n                name: 'myString'\n            }, {\n                type: 'uint256',\n                name: 'myNumber',\n                indexed: true\n            }, {\n                type: 'uint8',\n                name: 'mySmallNumber',\n                indexed: true\n            }],\n            txs[j].data);\n            allBets.push();\n\n        }\n\n        let usdFunds = totalFunds * (await config.usdrate());\n        totalFunds = parseFloat(totalFunds.toFixed(1));\n        usdFunds = parseFloat(usdFunds.toFixed(1));\n\n        return { numberOfBets, totalFunds, usdFunds };\n\t}\n}\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;AAEA;AACA;AACA;AACA;AAHA;AAMA;;AACA;AACA;AADA;AACA;;;AACA;AACA;;AAHA;AAGA;AACA;AACA;AACA;;AADA;;;;;AACA;;;;;;;;AAGA;AACA;AAAA;AACA;AACA;AACA;AAAA;AACA;;AATA;;;;;AAWA;;AAAA;AACA;;;AADA;AACA;AACA;AAEA;AAAA;AAAA;AAAA;AAAA;AACA;;;;;;;;;;;;;;;;;;;;;;;;AAGA;;AACA;AACA;AADA;AACA;;;AACA;AACA;;AAHA;AAGA;AACA;AAAA;AACA;AACA;AACA;AAFA;AAIA;AACA;AACA;AAHA;AAKA;AACA;AACA;AAHA;AAMA;AAEA;AACA;AACA;;AAAA;AACA;;;AADA;AACA;AACA;AAEA;AAAA;AAAA;AAAA;AAAA;AACA;;;;;;;;;;;;;;;;;;;;;;A","sourceRoot":""}