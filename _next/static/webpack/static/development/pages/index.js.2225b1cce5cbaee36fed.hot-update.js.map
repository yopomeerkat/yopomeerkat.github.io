{"version":3,"file":"static/webpack/static/development/pages/index.js.2225b1cce5cbaee36fed.hot-update.js","sources":["webpack:///./components/etherscan.js"],"sourcesContent":["//import fetch from \"node-fetch\";\nimport config from \"./config\";\nimport convert from \"../utils/convert\";\n\nexport default class etherscan {\n\tstatic async getTxs() {\n\t\tlet headers = new Headers({\n\t\t\tAccept: \"application/json\",\n\t\t\t\"Content-Type\": \"application/json\",\n\t\t\t\"User-Agent\":\n\t\t\t\t\"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_11_5) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/56.0.2924.87 Safari/537.36\"\n        });\n        var rate = fetch(\"https://api.coinmarketcap.com/v1/ticker/ethereum/\").then(\n            function (response) {\n                return response.json();\n            }\n        );\n\n        console.log('rate:' + +ratejson[0].price_usd);\n\t\tconst url = `https://api.etherscan.io/api?module=account&action=txlist&address=${config.address()}&startblock=6604918&endblock=99999999&sort=asc&apikey=${config.apikey()}`;\n\t\tconst txs = (await (await fetch(url, {\n\t\t\tmethod: \"GET\"\n\t\t})).json()).result;\n\t\tlet numberOfBets = 0;\n\t\tlet totalFunds = 0;\n\t\tfor (var j = 0; j < txs.length; j++) {\n\t\t\tif (txs[j].isError == \"1\") {\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\tconst v = parseFloat(convert.eth(txs[j].value));\n\t\t\tif (v > 0) {\n\t\t\t\tnumberOfBets++;\n\t\t\t}\n\t\t\ttotalFunds += v;\n\t\t}\n\n\t\tlet usdFunds = totalFunds * config.usdrate();\n\t\ttotalFunds = parseFloat(totalFunds.toFixed(1));\n\t\tusdFunds = parseFloat(usdFunds.toFixed(1));\n\n\t\treturn { numberOfBets, totalFunds, usdFunds };\n\t}\n}\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;AAEA;AACA;AACA;AACA;AAHA;AAMA;AAEA;AACA;AAGA;AACA;;AACA;AACA;AADA;AACA;;;AACA;AACA;;AAHA;AAGA;AACA;AACA;AACA;;AADA;;;;;AACA;;;;;;;;AAGA;AACA;AAAA;AACA;AACA;AACA;AAAA;AACA;;AATA;;;;;AAWA;AACA;AACA;AAEA;AAAA;AAAA;AAAA;AAAA;AACA;;;;;;;;;;;;;;;;;;;;;;A","sourceRoot":""}